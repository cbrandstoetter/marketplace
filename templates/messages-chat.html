{% extends 'base.html' %}

{% block title %} 
    Messages
{% endblock %}

{% block content %}
{%for message in messages%}
<p {%if message.user%}style="background-color:blue;margin-left:auto;"{%else%}style="background-color:green;margin-right:auto;"{%endif%}>
{{message.message}}
</p>
<p>
{{message.created}}
</p>
{% endfor %}
<form class="form" method="POST">
    <label for="message">message:</label>
    <input type="text" id="message" name="message" required>
    <input type="hidden" id="receiver" name="receiver" value={{user_with}}>
    <button type="submit">send message</button>
</form>

<!-- Flash Messages -->
{% with messages = get_flashed_messages() %}
    {% if messages %}
        <div class="alert alert-info mt-4">
            {% for message in messages %}
                <p>{{ message }}</p>
            {% endfor %}
        </div>
    {% endif %}
{% endwith %}


{% endblock %}
